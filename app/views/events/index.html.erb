<%
content_for :title, t("events.events")
content_for :h1, t("events.events")
content_for(:body_id, "events-index")
content_for(:body_classes, 'events index')
%>

<table class="cf-default-table">
  <thead>
    <tr>
      <th><%= sortable Event.human_attribute_name(:name), :name, :events_path %></th>
      <th class="numeric"><%= sortable t('events.attendees_num'), :attendees_num, :events_path %></th>
      <th><%= sortable Event.human_attribute_name(:start_date), :start_date, :events_path %></th>
      <th><%= sortable Event.human_attribute_name(:end_date), :end_date, :events_path %></th>
      <th><%= sortable Event.human_attribute_name(:location), :location, :events_path %></th>
      <th><%= sortable Event.human_attribute_name(:created_at), :created_at, :events_path %></th>
      <th><%= sortable Event.human_attribute_name(:updated_at), :updated_at, :events_path %></th>
    </tr>
  </thead>

  <tbody>
    <% if @events.blank? %>
      <tr class="no-data"><td colspan="7"><%= t('admin.events.no_events') %></td></tr>
    <% end %>

    <% @events.each do |event| %>
      <tr>
        <td><%= link_to event.name, event_path(event) %></td>
        <td class="numeric"><%= event.attendees.length %></td>
        <td><%= l(event.start_date) %></td>
        <td><%= l(event.end_date) %></td>
        <td><%= event.location %></td>
        <td><%= l(event.created_at) %></td>
        <td><%= l(event.updated_at) %></td>
      </tr>
    <% end %>
  </tbody>
</table>
