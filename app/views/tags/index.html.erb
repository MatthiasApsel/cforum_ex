<%
@f_max = 3
@f_min = 1

def get_size(count)
  constant = Math.log(@max_count - (@min_count - 1)) /
    ((@f_max - @f_min) == 0 ? 1 : (@f_max - @f_min));

  (Math.log(count - (@min_count - 1)) / constant + @f_min).round(5)
end

%>

<p>
  <% @tags.each do |t| %>
  <span style="font-size:<%= get_size(t.num_threads) %>em;"><%= t.tag_name %></span>
  <% end %>
</p>