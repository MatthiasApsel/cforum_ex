<%
subnav = capture do
  begin %>
<%= render 'subnav' %><% @has_subnav = true
  rescue ActionView::MissingTemplate
    @has_subnav = false
  end
end

content_for(:div_kopf) do %>
<div id="side-menu">
  <% if @has_subnav and not subnav.blank? %>
    <%= subnav %>
  <% end %>

  <ul>
    <% if user_signed_in? %>
      <li id="post-link"><%= link_to t("layout.mail"), mails_path %></li>
      <li id="optionen-myadmin"><div>(<%= link_to notifications_path do %><span class="notifications<% if @new_notifications.length > 0 %> new<% end %>"><%= @new_notifications.length %></span><% end %>/<span class="score"><%= current_user.score %></span>) <%= link_to(current_user.username, edit_user_path(current_user)) %></div></li>
      <li id="optionen-logout"><%= link_to(t('layout.logout'), destroy_user_session_path, method: :delete) %></li>
    <% else %>
      <li id="optionen-my"><%= link_to(t('layout.login'), new_user_session_path) %></li>
      <li id="optionen-myadmin"><%= link_to t("layout.register"), new_user_registration_path %></li>
    <% end %>
  </ul>
</div>

<% if content_for?(:h1) %><%= content_for(:h1) %><% end %>
<% end %>


