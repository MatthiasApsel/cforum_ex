<%
content_for :title, t('users.users')
%><h1><%= t('users.users') %></h1>

<form class="form-search">
<input name="s" value="<%= @search_term %>" type="text" placeholder="username" class="cf-search-query">
</form>

<table class="cf-table-condensed-striped-hover">
  <thead>
    <tr>
      <th><%= CfUser.human_attribute_name(:username) %></th>
      <th><%= t('global.score') %></td>
      <th><%= CfUser.human_attribute_name(:admin) %></th>
      <th><%= CfUser.human_attribute_name(:active) %></th>
      <th><%= CfUser.human_attribute_name(:created_at) %></th>
      <th><%= CfUser.human_attribute_name(:updated_at) %></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |u| %>
    <tr>
      <td><%= link_to u.username, user_path(u) %></td>
      <td><%= @scores[u.user_id] || 0 %></td>
      <td><%= u.admin ? t('global.yeah') : t('global.nope') %></td>
      <td><%= u.active ? t('global.yeah') : t('global.nope') %></td>
      <td><%= l(u.created_at, format: uconf('date_format_default')) %></td>
      <td><%= l(u.updated_at, format: uconf('date_format_default')) %></td>
    </tr>
    <% end %>
  </tbody>

</table>

<%= paginate @users %>
